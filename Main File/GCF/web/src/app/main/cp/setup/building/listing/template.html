<div class="content-cnt page-layout blank">
  <div class="header p-24 h-80" fxLayout="row" fxLayoutAlign="start center">
    <div fxFlex="50">
      <div fxLayout="row" fxLayoutAlign="start center">
        <mat-icon class="secondary-text s-18">home</mat-icon>
        <mat-icon class="secondary-text s-16">chevron_right</mat-icon>
        <span class="secondary-text"> អគារ </span>
      </div>
    </div>

    <div fxFlex="30" fxLayoutAlign="end" >
      <button mat-stroked-button color="accent" (click)=" openCreateForm() ">
        <mat-icon class="material-icons">add</mat-icon><span>បង្កើតថ្មី</span>
      </button>
    </div>
  </div>

  <div class="content">
    <div class="tab-content p-24">
      <section class="listing">
        <div *ngIf=" isSearching ">
          <mat-spinner style="margin: auto" diameter=" 50 "></mat-spinner>
          <div fxLayoutAlign="center center"class="text-center">
            <div fxLayout="row" fxLayoutAlign="center" fxflex *ngIf=" isSearching ">
                <span class="p-100 load-text-color">កំពុងទាញទិន្នន័យ...</span>
            </div>
          </div>         
        </div>

        <table *ngIf=" data?.length > 0 && !isSearching " class="custom-table">
          <thead>
            <tr>
              <th>​​​ លេខ.</th>
              <th>ឈ្មោះអគារ</th>
              <th class="text-right">ចំនួនបន្ទប់</th>
              <th></th>
              <th class="text-center">កាលបរិច្ឆេទ</th>
              <th></th>
            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let row of data; let i = index; " [attr.data-index]="i">
              <td>{{ i+1 }}</td>
              <td>{{ row?.name}}</td>
              <td class="text-right">{{ row?.n_of_rooms }}</td>
              <td></td>
              <td class="text-center">{{ row?.created_at }}</td>
              <td class="text-right">
                <button
                  mat-icon-button
                  color="accent"
                  (click)="openViewRoom(row)"
                  matTooltip="មើល"
                >
                  <mat-icon>list</mat-icon>
                </button>
                <button
                mat-icon-button
                color="accent"
                (click)="openEditForm(row)"
                matTooltip="កែប្រែ"
              >
                <mat-icon>edit</mat-icon>
              </button>

                <button
                  mat-icon-button
                  color="warn"
                  (click)="onDelete(row)"
                  matTooltip="លុប"
                >
                  <mat-icon>delete</mat-icon>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <div fxLayoutAlign="center center">
          <tr *ngIf=" data?.length == 0 && !isSearching " class="text-center">
            <div fxLayout="column" fxLayoutAlign="center center">
              <mat-icon
                role="img"
                class="
                  mat-icon
                  notranslate
                  s-100
                  mb-16
                  select-message-icon
                  hint-text
                  material-icons
                  mat-icon-no-color
                "
                aria-hidden="true"
              >
                toc
              </mat-icon>
              <span class="select-message-text hint-text"
                ><span>គ្មានទន្និន័យ</span></span
              >
            </div>
          </tr>
        </div>
      </section>
    </div>
  </div>
</div>
